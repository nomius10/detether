<!DOCTYPE html>
<html>

<head>
    <script type="module">
        import init, {encode, decode} from './pkg/basehanja.js';
        window.my_encode = encode;
        window.my_decode = decode;

        async function run(){
            await init();
        }
        run();
    </script>
    <script>
        function encode() {
            let src = document.getElementById("ta_left").value;
            let codec = document.getElementById("codec").value;
            let enc = window.my_encode(src, codec);
            document.getElementById("ta_right").value = enc;
        }

        function decode() {
            let src = document.getElementById("ta_right").value;
            let codec = document.getElementById("codec").value;
            let dec = window.my_decode(src, codec);
            document.getElementById("ta_left").value = dec;
        }
    </script>
</head>

<body>
    <a href="/">Back to the site</a>
    TODO

    <div>
        <textarea id="ta_left" name="ta_left" rows="4" cols="50" placeholder="The decoded text..."></textarea>

        <div>
            <button type="button" onclick="encode()">encode</button>
            <select name="codec" id="codec">
                <option value="base64">Base64</option>
                <option value="hanja">Hanja/Kanji (漢字)</option>
                <option value="hiragana">Hiragana (ひらがな)</option>
                <option value="katakana">Katakana (カタカナ)</option>
            </select>
            <button type="button" onclick="decode()">decode</button> 
        </div>

        <textarea id="ta_right" name="ta_right" rows="4" cols="50" placeholder="The encoded text..."></textarea>
    </div>
</body>

</html>
